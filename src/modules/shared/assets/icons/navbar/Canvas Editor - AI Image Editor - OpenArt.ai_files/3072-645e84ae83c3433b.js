"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3072],{70534:function(e,t,n){var r=n(52676),i=n(75271),l=n(65893),o=n(3344),a=n(35019),s=n(62935),d=n(21461),c=n(10475),u=n(5045);let p=(0,i.memo)(function(e){let{name:t,onClose:n,value:p,onChange:h,tags:x,column:m=2,showCustom:g=!1,multi:f=!0,...y}=e,[b,v]=(0,i.useState)(((null==p?void 0:p.custom)||[])[0]);return(0,r.jsx)(l.Z,{children:(0,r.jsx)(o.Z,{anchor:"left",open:!0,onClose:n,onOpen:()=>{},...y,children:(0,r.jsxs)(a.Z,{spacing:4,sx:{p:4},children:[(0,r.jsxs)(a.Z,{direction:"row",spacing:2,children:[(0,r.jsx)(c.Z,{direction:u.n.Left,onClick:n}),(0,r.jsx)(s.Z,{variant:"subtitle1",children:t})]}),x.map(e=>{let{title:t,children:n}=e;return(0,r.jsxs)(a.Z,{spacing:2,children:[(0,r.jsx)(s.Z,{variant:"subtitle2",children:t}),(0,r.jsx)(l.Z,{sx:{display:"grid",gridTemplateColumns:`repeat(${m}, 1fr)`,columnGap:"10px",rowGap:"16px"},children:n.map((e,n)=>(0,r.jsx)(s.Z,{variant:"body2",sx:{border:"2px solid ",borderWidth:f?"2px":"1px",borderColor:p&&(p[t]||[]).includes(n)?"#0084FF":f?"transparent":"#FBFBFD",textAlign:"center",borderRadius:"10px",background:"#1C1C1C",cursor:"pointer",p:"4px"},onClick:()=>h(t,n),children:e},e))})]},t)}),g?(0,r.jsxs)(a.Z,{spacing:2,children:[(0,r.jsx)(s.Z,{variant:"subtitle1",children:"Optional description"}),(0,r.jsx)(d.Z,{fullWidth:!0,placeholder:"You can enter description about the people. e.g. with pink hair and blue eyes",variant:"outlined",multiline:!0,minRows:2,value:b,onChange:e=>v(e.target.value),onBlur:()=>{h("custom",b)}})]}):null]})})})});t.Z=p},10475:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(52676);n(75271);var i=n(90836),l=n(31750),o=n(66686),a=n(5045);function s(e){let{direction:t=a.n.Right,width:n=24,height:s=24,onClick:d}=e;return(0,r.jsx)(o.Z,{color:"primary","aria-label":"more styles",size:"small",sx:{background:"#fff!important",color:"#1D1D1F",width:n,height:s},onClick:d,children:t===a.n.Right?(0,r.jsx)(l.Z,{}):(0,r.jsx)(i.Z,{})})}},53072:function(e,t,n){n.d(t,{Z:function(){return G}});var r=n(52676),i=n(75271),l=n(46974),o=n(65893),a=n(35019),s=n(62935),d=n(48945),c=n(82338),u=n(71137),p=n(44754),h=n(51395),x=n(66324),m=n(92749),g=n(21461),f=n(53785),y=n(12073),b=n(29573),v=n(92563),j=n(23649),Z=n(10227),C=n(46406);let k=(0,C.ZP)(j.Z)(e=>{let{theme:t}=e;return{"& .MuiToggleButton-root":{margin:"0 !important",border:"2px solid transparent !important",transition:"all .3s",backgroundClip:"padding-box",paddingLeft:t.spacing(1),paddingRight:t.spacing(1),"&.Mui-selected":{backgroundColor:"transparent",borderColor:"#343839 !important","&:hover":{borderColor:"currentColor !important"}},"&:hover":{color:"#fff"}}}}),w=(0,C.ZP)(Z.Z)(e=>{let{theme:t}=e;return{fontWeight:600,color:"rgba(155, 156, 158, 1)"}}),S={keyword:["q","keyword","category","ai_model","ai_tool"],category:["q","keyword","ai_model","ai_tool","method","category"],ai_model:["q","keyword","category","ai_tool","method"],ai_tool:["q","keyword","category","ai_model","method"]};var F=n(11555),I=n(79267),P=n(2125),R=n(44941),_=n(27373),q=n(87717);let L=[{label:"image similarity",value:P.CJ},{label:"prompt",value:P.__}];function M(e){let{q:t,method:n,isSsrMobile:d,sx:c,...u}=e,p=(0,y.Z)(),h=(0,l.useRouter)(),x=(0,R.Z)("up","sm")||!d,[m,j]=(0,i.useState)(!1),[Z,C]=(0,i.useState)(t||""),[M,z]=(0,i.useState)(P.CJ);(0,i.useEffect)(()=>{C(t||"")},[t]),(0,i.useEffect)(()=>{z(n||P.CJ)},[n]);let D=(e,n)=>{z(n),t&&E(n)},E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;_.B("search",{category:Z,label:e});let{query:t}=h,n=(0,b.Z)(t,S.keyword);h.push({pathname:`${F.xJ}/${encodeURIComponent(Z)}`,query:{...n,method:e}},void 0,void 0)},A=()=>{C("");let{pathname:e,query:t}=h;delete t.q,delete t.blah,h.push({pathname:e,query:t},void 0,void 0)};return(0,r.jsx)(a.Z,{direction:"column",alignItems:"center",justifyContent:"center",...u,children:(0,r.jsxs)(a.Z,{alignItems:{xs:"flex-start",sm:"center"},direction:{xs:"column",sm:"row"},spacing:{xs:0,sm:2},sx:{width:"100%"},children:[(0,r.jsx)(k,{"aria-labelledby":"Search type",sx:e=>({flexShrink:0,[e.breakpoints.down("sm")]:{order:1,mt:`${e.spacing(1)} !important`},[e.breakpoints.up("sm")]:{order:0}}),value:M,size:"small",children:L.map(e=>{let{label:t,value:n}=e;return(0,r.jsxs)(w,{value:n,onClick:()=>D(null,n),sx:{flexShrink:0},children:["Search by ",t]},n)})}),(0,r.jsx)(g.Z,{disabled:P.yC,size:"small",sx:{p:0,width:"100%"},InputProps:{sx:{pr:1,bgcolor:"background.paper","& .MuiOutlinedInput-notchedOutline":{borderWidth:2,borderColor:"#343839"},"& .MuiInputBase-input::placeholder":{color:"rgba(255,255,255, 0.5)"}},startAdornment:(0,r.jsx)(f.Z,{position:"start",children:(0,r.jsx)(I.sMi,{size:18,color:"#fff"})}),endAdornment:(0,r.jsxs)(f.Z,{position:"end",children:[Z?(0,r.jsx)(o.Z,{sx:{p:1,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>A(),children:(0,r.jsx)(I.l3P,{size:20})}):null,m&&Z?(0,r.jsx)(o.Z,{sx:{p:.5,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:p.palette.grey[200],borderRadius:"5px"},onClick:()=>{E(),j(!1)},children:(0,r.jsx)(I.I9T,{size:18})}):null]})},placeholder:P.yC?"Search is temporarily unavailable":"Search over 10 millions of prompts and AI generated art",variant:"outlined",value:Z,onFocus:()=>j(!0),onChange:e=>C(e.target.value),onKeyDown:e=>{"Enter"===e.key?E():"Escape"===e.key&&A()}}),t?(0,r.jsx)(v.Z,{shareUrl:`https://openart.ai${h.asPath}`,text:`Search results of "${(0,q.$G)(t,100,"...")}" from OpenArt`,noHashtag:!0,imageUrl:void 0,analyticsCategory:"",noStyle:!1,children:x?(0,r.jsx)(s.Z,{variant:"body1",children:"Share"}):null}):null]})})}var z=n(66686),D=n(70534),E=n(46514),A=n(49141);let $=E.cz.slice().sort((e,t)=>e.metadata.name.localeCompare(t.metadata.name)),B=[{title:"Filter by AI tools",children:A.bt.map(e=>e.label),keys:A.bt.map(e=>e.value),filterParam:"ai_tool"},{title:"Filter by model",children:$.map(e=>e.metadata.name),keys:$.map(e=>e.key),filterParam:"ai_model"}],T=(0,i.memo)(function(e){let{aiModel:t,aiTool:n}=e,[a,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)({}),p=(0,l.useRouter)();(0,i.useEffect)(()=>{if(t){let e=$.findIndex(e=>e.key===t);-1!==e&&c({"Filter by model":[e]})}else if(n){let e=A.bt.findIndex(e=>e.value===n);-1!==e&&c({"Filter by AI tools":[e]})}},[t,n]);let h=(0,r.jsx)(I.rSx,{size:20});return(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(o.Z,{display:{xs:"none",sm:"block"},children:(0,r.jsx)(u.Z,{"aria-label":"Filter",onClick:()=>s(!0),startIcon:h,sx:{fontWeight:600,height:40},children:"Filter"})}),(0,r.jsx)(o.Z,{display:{xs:"block",sm:"none"},children:(0,r.jsx)(z.Z,{"aria-label":"Filter",onClick:()=>s(!0),color:"primary",children:h})}),a?(0,r.jsx)(D.Z,{name:"Filter",onClose:()=>s(!1),value:d,tags:B,onChange:(e,t)=>{c({[e]:[t]}),s(!1);let n=B.find(t=>t.title===e);if(n){let e=n.keys[t],r=n.filterParam,{query:i}=p,l=(0,b.Z)(i,S[r]);p.push({pathname:F.xL,query:{...l,[r]:e}})}},anchor:"right",multi:!1}):null]})});var O=n(44728),W=n(91947),J=n(31289);function G(e){let{isSsrMobile:t,initialLoadSearchData:n,initialLoadFeedData:g,disableInitialLoading:f=!1,query:y,...b}=e,v=(0,l.useRouter)(),{asPath:j}=v,[Z,C]=(0,i.useState)(t),[k,w]=(0,i.useState)(t?2:5),S=(0,i.useRef)(null),P=(0,R.Z)("up","xl"),_=(0,R.Z)("up","md"),L=(0,R.Z)("up","sm"),z=(0,i.useRef)(P),D=(0,i.useRef)(_),E=(0,i.useRef)(L);z.current=P,D.current=_,E.current=L,(0,i.useEffect)(()=>{let e=()=>{var e;let t=null===(e=S.current)||void 0===e?void 0:e.clientWidth;if(t){let e=Math.round((t-100)/250);e<=1?w(2):w(Math.min(e,5)),C(!D.current)}},t=new ResizeObserver(()=>{e()});return t.observe(S.current),()=>{t.disconnect()}},[]);let A=k>3?2:1,{initialPost:$,initialSimilarPosts:B,q:G,method:N,ai_model:U,ai_tool:H,category:V}=y||{},[Y]=V||[],{data:K,nextPageRef:Q,promptToLogin:X,isFetching:ee}=(0,O.x)({method:N,ai_model:U,ai_tool:H,searchWithQuery:G||Y,initialLoadSearchData:n,initialLoadFeedData:g}),{modalVisible:et,handleImageClick:en,handleClose:er,dialogProps:ei,setDialogProps:el}=(0,W.Z)({parentPathname:j.split("?")[0],asPath:j,defaultOpen:!!$,defaultDialogProps:{post:$,enableVoteFeature:!0,initialLoadSimilarPosts:B}}),eo=(0,i.useMemo)(()=>null==K?void 0:K.pages.flatMap(e=>e.items),[null==K?void 0:K.pages]),{post:ea,enableVoteFeature:es,initialLoadSimilarPosts:ed,...ec}=ei||{};return(0,r.jsxs)(o.Z,{ref:S,...b,children:[(0,r.jsxs)(a.Z,{direction:"row",sx:{my:Z?1:2,mb:1},spacing:1,children:[(0,r.jsx)(o.Z,{sx:{flexGrow:1},children:(0,r.jsx)(M,{q:G,method:N,isSsrMobile:t})}),(0,r.jsx)(o.Z,{children:(0,r.jsx)(T,{aiModel:U,aiTool:H})})]}),G?(0,r.jsx)(a.Z,{children:(0,r.jsxs)(a.Z,{direction:"row",sx:{px:1},alignItems:"center",children:[(0,r.jsxs)(s.Z,{variant:"caption",children:["Search Results ",(0,r.jsxs)("strong",{children:['"',(0,q.$G)(G,30,"..."),'"']})]}),(0,r.jsx)(o.Z,{sx:{p:1,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",minHeight:"40px"},onClick:()=>{let{query:e}=v;delete e.q,v.push((0,J.DB)({pathname:F.xL,queryParams:y,queryToAppend:{...U?{ai_model:U}:H?{ai_tool:H}:{}}}))},children:(0,r.jsx)(I.Cre,{size:20})})]})}):null,U||H?(0,r.jsxs)(s.Z,{variant:"caption",children:["Filter by ",U?(0,r.jsx)("span",{children:"model: "}):(0,r.jsx)("span",{children:"tool: "}),(0,r.jsx)(d.Z,{label:U||H,onDelete:()=>{let{pathname:e,query:t}=v;delete t.ai_model,delete t.ai_tool,v.push({pathname:e,query:t},void 0,void 0)}})]}):null,(0,r.jsx)(a.Z,{direction:"column",alignItems:"center",sx:{mt:2},children:eo&&eo.length>0?(0,r.jsx)(h.Z,{columnsCount:k,gutter:`${A/2}rem`,children:eo.map((e,n)=>{let{id:i,source_id:l,user_id:o}=e;return(0,r.jsx)(x.Z,{post:e,showAIModel:!0,enableVoteFeature:o,onImageClick:en,setDialogProps:el,clickChangeUrl:!0,isSsrMobile:t,fetchPriority:0===n?"high":"auto"},`${i}-${l}-${n}`)})}):null}),X?(0,r.jsxs)(c.Z,{sx:{textAlign:"center",mt:4,border:"1px dashed",borderRadius:"3px",p:4},children:[(0,r.jsxs)(s.Z,{variant:"subtitle2",children:["Join the community to see more and",(0,r.jsx)("br",{}),"discover new AI art and prompts!"]}),(0,r.jsx)(u.Z,{variant:"text",sx:{mt:2,px:4,py:2,fontSize:18},onClick:()=>v.push("/signin"),children:"Sign in"})]}):null,ee?(0,r.jsxs)(o.Z,{sx:{minHeight:200,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,r.jsx)(p.Z,{"aria-label":"Feed loading"}),(0,r.jsx)(s.Z,{variant:"subtitle1",children:"Loading..."})]}):null,(0,r.jsx)(o.Z,{ref:Q,sx:{width:"100%",height:500}}),et&&ea?(0,r.jsx)(m.Z,{onImageClick:en,setDialogProps:el,clickChangeUrl:!0,onClose:er,post:ea,enableVoteFeature:es,initialLoadSimilarPosts:ed,isSsrMobile:t,...ec}):null]})}},44728:function(e,t,n){n.d(t,{x:function(){return s}});var r=n(75271),i=n(63888),l=n(19242),o=n(81138),a=n(2125);function s(){var e,t;let{method:n=a.CJ,ai_model:s,ai_tool:d,flow_app:c,searchWithQuery:u,initialLoadSearchData:p,initialLoadFeedData:h,modelType:x,searchDuration:m}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{status:g}=(0,i.useSession)(),{ref:f,inView:y}=(0,l.YD)(),{data:b,error:v,isFetching:j,fetchNextPage:Z,isFetchingNextPage:C}=(0,o.xn)({disabled:u||s||d||c,initialData:h?{pages:[h],pagePrams:[void 0]}:void 0}),k=(null==b?void 0:null===(e=b.pages)||void 0===e?void 0:e.length)&&b.pages.length>=2&&"authenticated"!==g,{data:w,error:S,isFetching:F,fetchNextPage:I,isFetchingNextPage:P}=(0,o.sk)({query:u,method:n,ai_model:s,flow_app:c,ai_tool:d,applyFilter:"community-models"!==x,disabled:a.yC||!(u||s||d||c),initialData:p,duration:m}),R=(null==w?void 0:null===(t=w.pages)||void 0===t?void 0:t.length)&&w.pages.length>=2&&"authenticated"!==g;return(0,r.useEffect)(()=>{if(y){if(k&&!u||R&&u)return;let e=setTimeout(()=>{u||s||d||c?F||I():j||Z()},200);return()=>clearTimeout(e)}},[y]),{data:u||s||d||c?w:b,error:u?S:v,nextPageRef:f,promptToLogin:u?R:k,isFetching:j||F,isFetchingNext:C||P}}},91947:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(75271),i=n(29573);function l(e){let{parentPathname:t,asPath:n="",defaultOpen:l=!1,defaultDialogProps:o={}}=e,[a,s]=(0,r.useState)(l),[d,c]=(0,r.useState)(o),u=e=>{let n=e.target.location.pathname;n===t?s(!1):/(?:community|discovery)\/[0-9a-z]+/i.test(n)&&(c(e.state),s(!0))};return(0,r.useEffect)(()=>(window.addEventListener("popstate",u),()=>window.removeEventListener("popstate",u)),[]),{modalVisible:a,handleClose:function(){s(!1),window.history.pushState(null,"",n||t)},handleImageClick:function(e){let{dialogPostUrl:t,dialogProps:n}=e;window.history.pushState((0,i.Z)(n,"onBookmarkCollectionChangeCallback"),"",t),s(!0)},dialogProps:d,setDialogProps:c,stopListening:function(){window.removeEventListener("popstate",u)}}}},31750:function(e,t,n){var r=n(26538);t.Z=void 0;var i=r(n(64842)),l=n(52676);t.Z=(0,i.default)((0,l.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")}}]);