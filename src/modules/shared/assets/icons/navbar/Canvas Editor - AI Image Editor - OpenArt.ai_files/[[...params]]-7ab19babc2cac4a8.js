(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9211],{3741:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/models/[[...params]]",function(){return i(10767)}])},32757:function(e,t,i){"use strict";var n=i(52676),o=i(75271),r=i(3170),a=i(86180),l=i(50272),s=i(43682),d=i(65893),c=i(62935),u=i(44754),h=i(71137),g=i(12073),m=i(25110),p=i(84625),x=i(93001),f=i(79267),v=i(31526);let b="upload-image-button",j=(0,o.forwardRef)((e,t)=>{let{error:i,file:j,isUploading:Z,caption:w,sx:C,dropZoneSx:_,bordered:y,title:k="Click or drag a photo to upload",zoomable:z,deletable:R,onDelete:M,onDrop:S,onChange:F,multiple:I,disabled:W=!1,accept:E,showIcon:P=!0,buttonVariant:D,onAreaClick:H,maxFiles:N,fallbackWhenNoFile:L,...O}=e,T=(0,g.Z)(),{getRootProps:A,getInputProps:U,isDragActive:V,isDragReject:X,fileRejections:$,inputRef:G}=(0,p.uI)({multiple:I,maxFiles:N,accept:E??{"image/png":[],"image/jpeg":[],"image/webp":[],"image/gif":[],"image/svg+xml":[],"image/apng":[],"image/avif":[],"image/bmp":[]},onDrop:e=>{e.length>0?null==F||F(I?e:e[0]):null==F||F(null),null==S||S(e)},disabled:W,noClick:!!H,...O}),q=A(),B=()=>{G.current&&G.current.click()};(0,o.useImperativeHandle)(t,()=>({triggerInputClick:B}));let[J,K]=(0,o.useState)(!1),Q=e=>{K(e)},Y=e=>{if(!H)return;let t=e.target,i=!1;for(;t&&t!==e.currentTarget;){if(t.classList.contains(b)){i=!0;break}t=t.parentElement}i||H(e)},ee=j&&(j.preview||(j.file?URL.createObjectURL(j.file):"")),et={display:"flex",position:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:T.palette.text.secondary,backgroundColor:D?null:T.palette.background.neutral,transition:T.transitions.create("opacity",{duration:T.transitions.duration.shorter}),overflow:"auto",msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},"&:hover":{opacity:D&&!j?1:.72},...j&&{opacity:0,color:"common.white",bgcolor:"grey.900","&:hover":{opacity:.72}}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(d.Z,{sx:(0,v.j)({width:144,height:144,margin:"auto",borderRadius:"50%",padding:T.spacing(1),position:"relative",border:!1===y?"none":`1px dashed ${T.palette.grey[50032]}`,scrollbarWidth:"none !important"},C),children:[Z?(0,n.jsx)(d.Z,{sx:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",zIndex:9999,color:"white"},children:(0,n.jsx)(u.Z,{})}):null,(0,n.jsxs)(d.Z,{...q,onClick:H?Y:q.onClick,onContextMenu:H?Y:void 0,sx:{zIndex:0,width:"100%",height:"100%",outline:"none",display:"flex",overflow:"hidden",borderRadius:"50%",position:"relative",alignItems:"center",justifyContent:"center","&::-webkit-scrollbar":{display:"none !important"},"&":{msOverflowStyle:"none !important",scrollbarWidth:"none !important"},[`& > *:not(.${b})`]:{width:"100%",height:"100%"},"&:hover":{cursor:"pointer","& .placeholder":{zIndex:9}},...V&&{opacity:.72},...(X||i)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"},..._},children:[(0,n.jsx)("input",{...U()}),ee?z?(0,n.jsx)(d.Z,{onClick:e=>e.stopPropagation(),sx:{"&>div, &>div>div, & img":{height:"100%",width:"100%"}},children:(0,n.jsx)(x.f,{zoomMargin:20,isZoomed:J,onZoomChange:Q,children:(0,n.jsx)(d.Z,{component:"img",alt:"avatar",src:ee,sx:{zIndex:8,objectFit:"contain"}})})}):(0,n.jsx)(d.Z,{component:"img",alt:"avatar",src:ee,sx:{zIndex:8,objectFit:"cover"}}):L??null,(0,n.jsx)(d.Z,{className:"placeholder",sx:et,children:D?(0,n.jsxs)(h.Z,{variant:"outlined",sx:{position:"absolute",height:"30px !important",width:"fit-content !important",display:"flex",gap:.5,backgroundColor:"#292929",borderColor:"#444444",textTransform:"none",fontSize:12,px:1,color:"white","&:hover":{backgroundColor:"#ffffff3d",borderColor:"#ffffff3d"}},disabled:W,children:[(0,n.jsx)(r.Z,{}),"Click or drag to upload"]}):(0,n.jsxs)(n.Fragment,{children:[P?(0,n.jsx)(f.JGh,{size:{xs:32,md:24},sx:{mb:1}}):null,(0,n.jsx)(c.Z,{variant:"caption",textAlign:"center",children:k||"Click or drag a photo to upload"})]})}),j&&z?(0,n.jsx)(d.Z,{className:b,sx:{position:"absolute",top:4,right:4,zIndex:1e3,background:"rgba(0,0,0,0.5)",width:30,height:30,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:1},onClick:e=>{e.stopPropagation(),Q(!0)},children:(0,n.jsx)(l.Z,{})}):null,j&&R?(0,n.jsx)(d.Z,{className:b,sx:{position:"absolute",top:4,right:40,zIndex:1e3,background:"rgba(0,0,0,0.5)",width:30,height:30,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:1},onClick:e=>{e.stopPropagation(),null==M||M(),null==F||F(null)},children:(0,n.jsx)(a.Z,{})}):null]})]}),w,$.length>0&&(0,n.jsx)(s.Z,{variant:"outlined",sx:{py:1,px:2,my:2,borderColor:"error.light",bgcolor:e=>(0,m.Fq)(e.palette.error.main,.08)},children:$.map(e=>{let{file:t,errors:i}=e,{name:o}=t;return(0,n.jsxs)(d.Z,{sx:{my:1},children:[(0,n.jsx)(c.Z,{variant:"subtitle2",noWrap:!0,children:o}),i.map(e=>(0,n.jsxs)(c.Z,{variant:"caption",component:"p",children:["- ",e.message]},e.code))]},o)})})]})});j.displayName="UploadAvatar",t.Z=j},30388:function(e,t,i){"use strict";i.d(t,{i:function(){return S}});var n=i(52676),o=i(99058),r=i(20091),a=i(35019),l=i(71137),s=i(70565),d=i(66686),c=i(8765),u=i(89717),h=i(75271),g=i(58684),m=i(62935),p=i(61271),x=i(77742),f=i(24337),v=i(57598),b=i(92598),j=i(21461),Z=i(65893),w=i(79481),C=i(83954),_=i(80924),y=i(27928),k=i(2125),z=i(30754),R=i(45137);let M=e=>{let{...t}=e,[i,o]=(0,y.g)(),{isMobile:r}=(0,_.j)(),d=(0,u.aT)(),[c,M]=(0,h.useState)(""),{model:S}=t,[F,I]=(0,h.useState)(null),[W,E]=(0,h.useState)(!1);(0,h.useEffect)(()=>{if(null==S?void 0:S.sample_images){let e=[];for(let t of S.sample_images)e.push({image_url:t,is_nsfw:!1});I(e)}},[null==S?void 0:S.sample_images]);let P=async e=>{if(((null==e?void 0:e.training_mode)==="style"||(null==e?void 0:e.training_mode)==="character")&&!(null==e?void 0:e.object_prompt)&&!c){(0,z.QD)("Please describe the style");return}try{let t=await i({id:e.id,object_prompt:c,force_retrain:W});(null==t?void 0:t.id)===e.id&&(R.B("model_training",{training_type:"retrain",guiding_word:c,model_name:e.model_name,image_num:e.sample_images.length,model_type:e.training_mode,step_num:(null==e?void 0:e.step_num)??1e3}),D(),await d.normal({title:(0,n.jsx)(m.Z,{variant:"h4",children:"Re-training started"}),content:(0,n.jsx)(m.Z,{variant:"body1",children:"Please check back in 5-10 minutes."})}))}catch(e){var t,o,r,a,l,s;if(null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.nsfw_images)for(let t of((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.nsfw_images.length)<(null==F?void 0:F.length)&&E(!0),null===(s=e.response)||void 0===s?void 0:null===(l=s.data)||void 0===l?void 0:l.nsfw_images))(null==F?void 0:F.some(e=>e.image_url===t))&&I(e=>e.map(e=>e.image_url===t?{...e,is_nsfw:!0}:e))}},D=()=>{t.onClose({},"backdropClick")};return(0,n.jsxs)(p.Z,{...t,sx:{"& .MuiDialog-paper":{maxWidth:660,width:"600px",maxHeight:"700px"}},children:[(0,n.jsxs)(x.Z,{children:[(0,n.jsx)(m.Z,{fontSize:"16px",fontWeight:600,children:"Start re-training?"}),(0,n.jsx)(C.h,{dark:!1,onClick:D,sx:{position:"absolute",top:{xs:4,md:10},right:{xs:4,md:10}}})]}),(0,n.jsx)(f.Z,{sx:{width:"100%",height:"1px",backgroundColor:"rgba(68, 68, 68, 0.1)",marginTop:"20px"}}),(0,n.jsx)(v.Z,{sx:{pt:"24px!important",width:"100%",height:"100%",display:"flex",flexDirection:"column"},children:(0,n.jsxs)(a.Z,{spacing:2,direction:"column",children:[(0,n.jsx)(b.Z,{component:"div",severity:"info",sx:{mt:1,mb:1,fontWeight:600,color:"#FEFEFE",width:"100%","& .MuiAlert-message":{width:"100%"},display:"flex",alignItems:"center"},children:(0,n.jsxs)(m.Z,{variant:"body2",sx:{fontWeight:500},component:"div",children:["Read the"," ",(0,n.jsx)("a",{href:"https://openart.notion.site/Re-training-Guide-for-the-new-FLUX-based-Models-119269c1f5858064b3bbc71683ff85e6?pvs=74",target:"_blank",style:{textDecoration:"underline",fontWeight:700},rel:"noreferrer",children:"Re-training Guide"})," ","for best results."]})}),(0,n.jsxs)(m.Z,{fontWeight:"500",children:["Re-train this model for ",(0,n.jsx)("b",{children:"FREE"})," with the upgraded FLUX-based fine-tuning."]}),(null==S?void 0:S.training_mode)!=="style"&&(null==S?void 0:S.training_mode)!=="character"||(null==S?void 0:S.object_prompt)?null:(0,n.jsxs)(a.Z,{spacing:2,direction:"column",sx:{mt:5},children:[(0,n.jsxs)(m.Z,{fontWeight:"700",children:["Describe the ",null==S?void 0:S.training_mode,":"]}),(0,n.jsx)(j.Z,{fullWidth:!0,value:c,onChange:e=>M(e.target.value),placeholder:(null==S?void 0:S.training_mode)==="style"?k.W2:k.fK,variant:"outlined",multiline:!0,minRows:5}),(null==S?void 0:S.sample_images)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.Z,{sx:{mt:2},fontWeight:"700",children:"Sample Images:"}),(0,n.jsx)(Z.Z,{sx:{display:"grid",gridTemplateColumns:`repeat(${r?2:4}, 1fr)`,gap:2},children:null==F?void 0:F.map(e=>(0,n.jsx)(Z.Z,{sx:{border:e.is_nsfw?"3px solid #EC681E":"none",borderRadius:"10px",aspectRatio:"1/1"},children:(0,n.jsx)("img",{loading:"lazy",height:"120",width:"100%",alt:"",src:e.image_url,style:{borderRadius:"10px",objectFit:"cover"}})},e.image_url))})]}):null]})]})}),(0,n.jsxs)(w.Z,{children:[(0,n.jsx)(l.Z,{variant:"outlined",sx:{color:"rgba(153, 153, 153, 1)",fontSize:"12px",fontWeight:"600",borderRadius:"5px"},onClick:D,children:"Cancel"}),W?(0,n.jsx)(s.Z,{title:"We’ve detected one or more NSFW images. We’ll remove them in the retraining process.",placement:"top",open:W,arrow:!0,children:(0,n.jsx)(g.Z,{loading:o,variant:"contained",sx:{color:"white",backgroundColor:"rgba(236, 104, 30, 1)",fontSize:"12px",fontWeight:"600",borderRadius:"5px",":hover":{backgroundColor:"rgba(236, 104, 30, 0.8)"}},onClick:async()=>{await P(S)},children:"Force Re-train"})}):(0,n.jsx)(g.Z,{loading:o,variant:"contained",sx:{color:"white",backgroundColor:"rgb(9, 41, 247)",fontSize:"12px",fontWeight:"600",borderRadius:"5px",":hover":{backgroundColor:"rgba(9, 41, 247, 0.8)"}},onClick:async()=>{await P(S)},children:"Re-train"})]})]})},S=e=>{let{model:t,reTrainButtonSx:i,deleteButtonSx:h,normalDeleteButton:g}=e,m=(0,u.aT)(),[p]=(0,y.Fc)(),x=e=>{m.confirm({title:"Are you sure to delete this model?",content:"this model will be removed from the model hub",iconType:"warning",onConfirm:()=>{p({id:e.id})}})},{showModal:f}=(0,c.dd)(),v=async e=>{f(M,{model:e})};return(0,n.jsxs)(a.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,n.jsx)(l.Z,{variant:"contained",sx:{backgroundColor:"rgba(9, 41, 247, 0.8)",color:"white",transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(9, 41, 247, 1)",transform:"scale(1.05)",boxShadow:"0 0 10px rgba(9, 41, 247, 0.5)"},...i},size:"small",endIcon:(0,n.jsx)(s.Z,{title:"To keep creating, re-train this model for free with the new FLUX-based fine-tuning.",children:(0,n.jsx)(o.Z,{fontSize:"small"})}),onClick:()=>v(t),children:"Re-train"}),g?(0,n.jsx)(l.Z,{variant:"outlined",sx:{backgroundColor:"rgba(11, 12, 12, 1)",color:"white",transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(11, 12, 12, 1)",transform:"scale(1.05)",boxShadow:"0 0 10px rgba(11, 12, 12, 1)"},...h},size:"small",onClick:()=>x(t),children:"Delete"}):(0,n.jsx)(d.Z,{size:"small",onClick:()=>x(t),children:(0,n.jsx)(r.Z,{sx:{color:"primary.main"},fontSize:"small"})})]})}},13496:function(e,t,i){"use strict";i.d(t,{C:function(){return n}});let n={title:"See 100+ Fine-tuned models",canonicalPath:i(11555).C8}},31750:function(e,t,i){"use strict";var n=i(26538);t.Z=void 0;var o=n(i(64842)),r=i(52676);t.Z=(0,o.default)((0,r.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")},45285:function(e,t,i){"use strict";var n=i(26538);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i(64842)),r=i(52676);t.default=(0,o.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86180:function(e,t,i){"use strict";var n=i(26538);t.Z=void 0;var o=n(i(64842)),r=i(52676);t.Z=(0,o.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline")},14388:function(e,t,i){"use strict";var n=i(26538);t.Z=void 0;var o=n(i(64842)),r=i(52676);t.Z=(0,o.default)((0,r.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow")},20091:function(e,t,i){"use strict";var n=i(40201),o=i(52676);t.Z=(0,n.Z)((0,o.jsx)("path",{d:"M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z"}),"DeleteOutlined")},41696:function(e,t,i){"use strict";var n=i(40201),o=i(52676);t.Z=(0,n.Z)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20m6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9"}),"DoDisturbAlt")},3170:function(e,t,i){"use strict";var n=i(40201),o=i(52676);t.Z=(0,n.Z)((0,o.jsx)("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3zM7 9l1.41 1.41L11 7.83V16h2V7.83l2.59 2.58L17 9l-5-5z"}),"FileUploadOutlined")},68096:function(e,t,i){"use strict";var n=i(97963),o=i(2053),r=i(75271),a=i(4814),l=i(93828),s=i(34924),d=i(46406),c=i(45342),u=i(52676);let h=["children","className","component","image","src","style"],g=e=>{let{classes:t,isMediaComponent:i,isImageComponent:n}=e;return(0,l.Z)({root:["root",i&&"media",n&&"img"]},c.a,t)},m=(0,d.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:i}=e,{isMediaComponent:n,isImageComponent:o}=i;return[t.root,n&&t.media,o&&t.img]}})(e=>{let{ownerState:t}=e;return(0,o.Z)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})}),p=["video","audio","picture","iframe","img"],x=["picture","img"],f=r.forwardRef(function(e,t){let i=(0,s.i)({props:e,name:"MuiCardMedia"}),{children:r,className:l,component:d="div",image:c,src:f,style:v}=i,b=(0,n.Z)(i,h),j=-1!==p.indexOf(d),Z=!j&&c?(0,o.Z)({backgroundImage:`url("${c}")`},v):v,w=(0,o.Z)({},i,{component:d,isMediaComponent:j,isImageComponent:-1!==x.indexOf(d)}),C=g(w);return(0,u.jsx)(m,(0,o.Z)({className:(0,a.Z)(C.root,l),as:d,role:!j&&c?"img":void 0,ref:t,style:Z,ownerState:w,src:j?c||f:void 0},b,{children:r}))});t.Z=f},45342:function(e,t,i){"use strict";i.d(t,{a:function(){return r}});var n=i(50238),o=i(18364);function r(e){return(0,o.ZP)("MuiCardMedia",e)}let a=(0,n.Z)("MuiCardMedia",["root","media","img"]);t.Z=a},10767:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSP:function(){return s},default:function(){return d}});var n=i(52676),o=i(46974),r=i(13496),a=i(2097),l=i(77135),s=!0;function d(e){let{pathname:t}=(0,o.useRouter)();return(0,n.jsx)(l.Z,{...r.C,sx:{pt:{xs:2,md:4}},children:(0,n.jsx)(a.default,{...e})},t)}}},function(e){e.O(0,[4625,285,3478,2097,2888,9774,179],function(){return e(e.s=3741)}),_N_E=e.O()}]);