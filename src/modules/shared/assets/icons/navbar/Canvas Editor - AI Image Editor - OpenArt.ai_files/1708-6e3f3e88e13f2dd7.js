"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1708],{58902:function(e,t,i){i.d(t,{C:function(){return s},n:function(){return o}});var r=i(21617),a=i(28337);async function n(e){return(await a.ZP.post("unsubscribe_feedback/submit",{content:e})).data}let o=(0,a.py)(n),l=async e=>{let{pageParam:t=""}=e;return(await a.ZP.get("internal/unsubscribe_feedback",{params:{cursor:t}})).data};function s(){let{data:e,...t}=(0,r.N)(["useUnsubscribeFeedback"],l,{getNextPageParam:e=>e.nextCursor}),i=null==e?void 0:e.pages.flatMap(e=>e.items);return{...t,data:i}}},5562:function(e,t,i){i.d(t,{D:function(){return O}});var r=i(52676),a=i(75271),n=i(78657),o=i(58684),l=i(61271),s=i(66686),d=i(77742),c=i(35019),u=i(62935),x=i(57598),p=i(65089),h=i(62205),m=i(2656),g=i(92598),b=i(65893),f=i(79481),v=i(8765),j=i(56209),_=i(3532),y=i(75392),Z=i(22018),k=i(25111),C=i(92276),w=i(50713),S=i(11555),I=i(55309),W=i(61415),M=i(38118),z=i(80924),R=i(79267),P=i(22289),A=i(32131),E=i(433),F=i(10659),T=i(75787),D=i(30754),N=i(31289);let O=e=>{let t,{subscriptionType:i,subscriptionActive:O,productBillingInterval:B,isTeamMember:$,email:L,memberId:U,open:Y,onClose:Q,currentLevel:H=_.S1}=e,{isMobile:K}=(0,z.j)(),{data:G}=(0,P.$_)(),{showModal:J}=(0,v.dd)(),[V]=(0,E.Zr)(),[q]=(0,A.sD)(),X=q&&q.length>0,ee=X?q[0]:null,et=(0,M.k)(),ei=(0,W.zD)();$=$??"member"===V;let er=(0,k.Ho)(H),[ea,en]=(0,a.useState)(H===_.S1?_.uO:er),eo=ea===_.Ey,[el,es]=(0,A.Ns)(),ed=(0,k.a7)(ea),ec=async()=>{await el({subscription_credit_pack_active:!0,subscription_credit_pack_num:ed,member_id:U},{onError:()=>{(0,D.cB)("Failed to add credit pack to plan. Please try again later.")}}),null==Q||Q()},eu=async()=>{await el({subscription_credit_pack_active:!1,subscription_credit_pack_num:0,member_id:U},{onError:()=>{(0,D.cB)("Failed to add credit pack to plan. Please try again later.")}}),null==Q||Q()},ex=async()=>{await el({subscription_credit_pack_active:!0,subscription_credit_pack_num:ed,member_id:U},{onSuccess:()=>{(0,D.t5)(`Credit pack reduced to ${ed} successfully!`)},onError:()=>{(0,D.cB)("Failed to reduce credit pack. Please try again later.")}}),null==Q||Q()},ep=async()=>{await el({subscription_credit_pack_active:!0,subscription_credit_pack_num:ed,member_id:U},{onError:()=>{(0,D.cB)("Failed to increase credit pack. Please try again later.")}}),null==Q||Q()},eh={free:{text:X?"Subscribe to Advanced to unlock":"Upgrade",onClick:e=>{if(!et){(0,N.uT)();return}Q(),X&&ei?J(C.Z,{currentPlan:ee}):J(Z.Z,{type:"openart_subscription"}),null==Q||Q()},variant:"contained"},subscribeButNotAvailable:{text:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.Kah,{size:20,sx:{mr:1}}),"Switch to new plan to unlock"]}),onClick:()=>{X&&ei?J(C.Z,{currentPlan:ee}):J(Z.Z,{type:"openart_subscription"}),Q()},variant:"primary"},availableButNotSubscribeExtraCredits:{text:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R.Kah,{size:20,sx:{mr:1}}),"Add to plan"]}),onClick:ec,variant:"primary"},cancel:{text:"Cancel Plan",onClick:eu,variant:"outlined"},afterPurchasedExtraCredits:{text:"Current Plan - Slide right to buy more",onClick:()=>{},variant:"contained",disabled:!0},reduceExtraCredits:{text:"Reduce Credit Packs",onClick:ex,variant:"outlined"},increaseExtraCredits:{text:"Increase Credit Packs",onClick:ep,variant:"primary"},contactAdmin:{text:"Contact Admin to Change Plan",onClick:()=>{null==Q||Q()},variant:"primary"}},em=ea===_.se&&ed!==H;return O?(t=(0,T.Bw)("subscription.extraCredits",G)[0]?H===_.S1?eh.availableButNotSubscribeExtraCredits:em?eh.cancel:ed===H?eh.afterPurchasedExtraCredits:ed>H?eh.increaseExtraCredits:eh.reduceExtraCredits:eh.subscribeButNotAvailable,$&&(t=eh.contactAdmin)):t=eh.free,(0,r.jsxs)(l.Z,{open:Y,onClose:Q,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{bgcolor:"#212121",borderRadius:2,px:K?2:4,pt:10,pb:4,maxWidth:"550px",width:"100%"}},children:[(0,r.jsx)(s.Z,{"aria-label":"close",onClick:Q,sx:{position:"absolute",right:16,top:16,color:"text.secondary"},children:(0,r.jsx)(n.default,{})}),(0,r.jsx)(d.Z,{sx:{textAlign:"center",mb:6,p:0},children:(0,r.jsxs)(c.Z,{direction:"row",spacing:.5,justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(R.G1n,{color:I.MK,size:20}),(0,r.jsx)(u.Z,{variant:"body2",component:"div",color:I.MK,fontSize:20,fontWeight:600,children:"Optional add-on"})]})}),(0,r.jsx)(x.Z,{sx:{p:0},children:(0,r.jsxs)(c.Z,{spacing:2,children:[L?(0,r.jsxs)(u.Z,{fontSize:16,color:"white",children:["Add credit pack amount for ",(0,r.jsx)("b",{children:L})]}):null,(0,r.jsxs)(c.Z,{spacing:2,sx:{backgroundColor:"#343434",px:2.5,pr:2,py:2.5,flexDirection:"column",borderRadius:"16px"},children:[(0,r.jsxs)(c.Z,{direction:"row",alignItems:"flex-end",justifyContent:"start",children:[(0,r.jsx)(u.Z,{fontSize:K?20:24,fontWeight:700,sx:{mr:1},children:"Extra Credit"}),(0,r.jsxs)(u.Z,{color:I.MK,fontSize:36,fontWeight:500,lineHeight:1.2,children:["$",15*(0,k.a7)(ea)]}),(0,r.jsx)(u.Z,{fontSize:16,fontWeight:400,children:"/month"})]}),(0,r.jsxs)(u.Z,{variant:"body2",fontSize:14,color:"#8E8E8E",children:["Available exclusively for ",(0,r.jsx)("b",{children:"Advanced"})," and ",(0,r.jsx)("b",{children:"Infinite Plan"})," â€“ Add extra monthly credits to your plan.\xa0",(0,r.jsx)(j.r,{href:S.hT,underline:"always",fontWeight:400,target:"_blank",children:"Learn more."})]}),(0,r.jsxs)(c.Z,{spacing:K?3:2,direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(p.ZP,{min:_.se-1,max:_.Ey+1,value:ea,slots:{thumb:w.d},slotProps:{thumb:{level:ea}},onChange:(e,t)=>{t<_.se?en(_.se):t>_.Ey?en(_.Ey):en(t)},sx:{height:_.Rf,p:"0 !important",width:"100%","& .MuiSlider-rail":{height:_.Rf,borderRadius:`${_.gn}px`,backgroundColor:_.rm,opacity:1},"& .MuiSlider-track":{height:_.Rf,borderRadius:`${_.gn}px`,borderTopRightRadius:"0px",borderBottomRightRadius:"0px",backgroundColor:"rgba(63, 221, 120, 0.2)",...eo&&{width:"100% !important",borderTopRightRadius:`${_.gn}px !important`,borderBottomRightRadius:`${_.gn}px !important`}},"& .MuiSlider-thumb":{width:_.Rf,height:_.Rf,backgroundColor:I.MK,boxShadow:"none","& > p":{color:"black",fontSize:18,fontWeight:700}}}}),(0,r.jsx)(h.Z,{value:(0,k.a7)(ea)*F.Um,onChange:e=>{let t=e.target.value;en((0,k.Wm)(t))},sx:{border:"none",borderRadius:2,width:"100%",height:_.Rf,padding:"0!important",bgcolor:_.rm,fontSize:14,fontWeight:400,"& > .MuiSelect-select":{py:1.5},"& .MuiOutlinedInput-notchedOutline":{border:"none"},"& .MuiSelect-icon":{color:"white"}},children:[...Array.from({length:30},(e,t)=>t+1),...Array.from({length:7},(e,t)=>(0,k.a7)(t+31))].map(e=>{let t=e*F.Um;return(0,r.jsxs)(m.Z,{value:t,children:[t," credits / month"]},t)})})]})]}),(0,r.jsxs)(c.Z,{spacing:1,children:[(0,r.jsx)(y.k,{name:"Flexible Usage",desc:"Adjust or cancel packs each month as needed."}),(0,r.jsx)(y.k,{name:"Bonus Turbo Points",desc:"Receive Turbo Points equal to 30% of your purchased credits."})]}),ea===_.se&&ea!==H?(0,r.jsxs)(g.Z,{sx:{height:"60px",borderRadius:"4px",background:"rgba(211, 47, 47, 0.15)",color:"#FA4D56","& .MuiAlert-icon":{color:"#FA4D56",alignSelf:"flex-start",py:.4,mr:1},"& .MuiAlert-message":{padding:"0"},display:"flex",fontWeight:500},icon:(0,r.jsx)(R.Pij,{}),severity:"error",children:["If you cancel, this seat will no longer receive ",5e3*H," monthly credits starting next month."]}):(0,r.jsx)(b.Z,{sx:{height:"60px"}}),t===eh.afterPurchasedExtraCredits&&(0,r.jsx)(g.Z,{sx:{height:"60px",borderRadius:"4px",background:"rgba(211, 47, 47, 0.15)",color:"#FA4D56","& .MuiAlert-icon":{color:"#FA4D56",alignSelf:"flex-start",py:.4,mr:1},"& .MuiAlert-message":{padding:"0"},display:"flex",fontWeight:500},icon:(0,r.jsx)(R.Pij,{}),severity:"error",children:"This is your current pack. Slide right to increase your credit pack."})]})}),(0,r.jsx)(f.Z,{sx:{mt:13,padding:"0px !important"},children:(()=>{let e=t.buttonContainer,a=(0,r.jsx)(o.Z,{variant:(null==t?void 0:t.variant)??"contained",className:"oa-button-primary",fullWidth:!0,size:"medium",onClick:t.onClick,disabled:es||(null==t?void 0:t.disabled),loading:es,children:t.text});return e?(0,r.jsx)(e,{subscriptionType:i===F.Qe.Free?F.Qe.Advanced:i,productBillingInterval:B,isMigration:!1,sx:{height:_.Rf,width:{xs:"100%",md:"auto"}},children:a}):a})()})]})}},92276:function(e,t,i){i.d(t,{Z:function(){return F}});var r=i(52676),a=i(75271),n=i(71137),o=i(61271),l=i(77742),s=i(65893),d=i(62935),c=i(57598),u=i(33914),x=i(35019),p=i(53049),h=i(12558),m=i(52889),g=i(16483),b=i.n(g),f=i(8765),v=i(17543),j=i(21461),_=i(79481),y=i(83954),Z=i(56209),k=i(58902);function C(e){let{endDate:t,onBack:i,onCancel:s,...u}=e,[x,h]=(0,a.useState)(8),[m]=(0,k.n)(),[g,b]=(0,a.useState)(""),[f,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=setInterval(()=>{h(t=>1===t?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[]);let C=()=>{u.onClose({},"backdropClick")};return(0,r.jsxs)(o.Z,{...u,children:[(0,r.jsxs)(l.Z,{sx:{mb:1.5},children:["Proceed with cancelling?",(0,r.jsx)(y.h,{dark:!1,onClick:C,sx:{position:"absolute",top:10,right:10}})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsxs)(d.Z,{variant:"body2",children:["If you choose to cancel, your OpenArt account will be downgraded to the Free Plan at the end of your current billing period on ",t,"."]}),(0,r.jsx)(p.Z,{labelPlacement:"top",label:"Tell us why you unsubscribed (optional). We appreciate any feedback. Thank you!",control:(0,r.jsx)(j.Z,{variant:"outlined",fullWidth:!0,multiline:!0,rows:4,value:g,onChange:e=>b(e.target.value)}),sx:{mt:2,mx:0,"& > .MuiFormControlLabel-label":{mb:1}}})]}),(0,r.jsxs)(_.Z,{children:[(0,r.jsx)(Z.r,{href:"",underline:"always",onClick:()=>{C(),i()},sx:{mr:2},children:"Go back"}),(0,r.jsxs)(n.Z,{variant:"contained",disabled:x>0||f,onClick:async()=>{v(!0),await m(g),s()},sx:{textTransform:"none",bgcolor:"rgba(255, 0, 0, 0.7)",color:"white","&:disabled":{bgcolor:"rgba(255, 0, 0, 0.5)",color:"rgba(255, 255, 255, 0.5)"},"&:hover":{bgcolor:"red"}},children:[x>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{style:{display:"inline-block",width:"12px"},children:x}),"\xa0"]}),"Cancel plan"]})]})]})}var w=i(3532),S=i(68692),I=i(22018),W=i(58681),M=i(80924),z=i(79267),R=i(22289),P=i(10659),A=i(75787),E=i(45137);function F(e){let{onClose:t,currentPlan:i,open:g,disabledSubscriptionTypes:j=[]}=e,{isMobile:_}=(0,M.j)(),{showModal:y}=(0,f.dd)(),{data:Z}=(0,R.$_)(),{subscription_active:k,subscription_billing_interval:F}=Z||{},[T,D]=(0,a.useState)(i.interval),N=(0,A._j)(i.product),O=(0,a.useRef)(null),[B,$]=(0,a.useState)(()=>({type:N,interval:T})),L=(i.interval,(e,t)=>`${e}-${t}`),U=L(B.type,B.interval),Y=e=>"month"===T?e.price:e.priceYearly/12,Q=e=>{y(C,{endDate:e,onBack:()=>{H(e)},onCancel:async()=>{var e;E.B("subscription_stripe_cancel",{stage:"cancel"}),null===(e=O.current)||void 0===e||e.submit()}})},H=e=>{y(v.F,{onContinue:()=>{Q(e)}})};return(0,a.useEffect)(()=>{$(e=>({...e,interval:T}))},[T,$]),(0,r.jsxs)(o.Z,{open:g,onClose:t,fullWidth:!!_,sx:{"& .MuiDialog-paper":{width:"445px",borderRadius:"4px"}},children:[(0,r.jsxs)(l.Z,{children:[(0,r.jsx)(s.Z,{display:"flex",justifyContent:"center",mb:1,children:(0,r.jsx)(z.Rvx,{size:34})}),(0,r.jsx)(d.Z,{fontSize:18,fontWeight:700,align:"center",gutterBottom:!0,children:"Which plan do you want to change to?"}),(0,r.jsx)(d.Z,{fontSize:14,align:"center",color:"text.secondary",children:"Pick one of the following OpenArt plans"}),(0,r.jsx)(S.z,{interval:T,onIntervalChange:e=>{D(e)},disabledIntervals:[]})]}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(u.Z,{value:L(B.type,B.interval),onChange:e=>{let[t,i]=e.target.value.split("-");$({type:Number(t),interval:i})},children:(0,r.jsx)(x.Z,{spacing:2,sx:{mt:2,mb:1},children:w.Ps.filter(e=>N===P.Qe.Team&&(e.key===P.Qe.Team||e.key===P.Qe.Free)||N!==P.Qe.Team&&e.key!==P.Qe.Team).map(e=>{let t=N===e.key&&i.interval===T&&!i.cancel_at_period_end,a=i.cancel_at_period_end&&e.key===P.Qe.Free,n=j.includes(e.key),o=t||a||n;return(0,r.jsx)(s.Z,{sx:{border:"1px solid",borderColor:"divider",borderRadius:1,opacity:o?.5:1,"&:hover":{borderColor:o?"divider":"#3FDD78"},...U===L(e.key,T)&&{borderColor:"#3FDD78",bgcolor:"action.hover"}},children:(0,r.jsx)(p.Z,{value:L(e.key,T),control:(0,r.jsx)(h.Z,{sx:{"&.Mui-checked":{color:"#3FDD78"}},disabled:o}),label:(0,r.jsxs)(x.Z,{direction:"column",children:[(0,r.jsxs)(d.Z,{variant:"subtitle1",children:[e.title,t&&!a?(0,r.jsx)(d.Z,{component:"span",variant:"body2",color:"text.secondary",sx:{ml:1},children:"(Current plan)"}):null]}),(0,r.jsxs)(d.Z,{variant:"body2",color:"text.secondary",children:["$",Y(e)," per seat / month"]})]}),labelPlacement:"start",sx:{width:"100%",margin:0,p:2,"& .MuiFormControlLabel-label":{width:"100%"}},disabled:o})},e.key)})})}),(0,r.jsx)(m.Z,{fontSize:12,underline:"always",onClick:()=>{y(I.Z,{type:"openart_subscription"}),t()},children:"Compare all features"}),(0,r.jsxs)(x.Z,{spacing:2,sx:{mt:3},children:[Number(B.type)===P.Qe.Free&&!i.cancel_at_period_end||Number(B.type)===Number(N)&&i.cancel_at_period_end?(0,r.jsxs)("form",{ref:O,method:"POST",action:"/api/stripe/portal",children:[(0,r.jsx)("input",{type:"hidden",name:"customer",value:i.customer}),!i.cancel_at_period_end&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{type:"hidden",name:"type",value:"subscription_cancel"}),(0,r.jsx)("input",{type:"hidden",name:"subscription",value:i.id})]}),(0,r.jsx)(n.Z,{variant:"contained",className:"oa-button-primary",fullWidth:!0,type:"submit",onClick:e=>{i.cancel_at_period_end||(e.preventDefault(),e.stopPropagation(),E.B("subscription_stripe_cancel",{stage:"open_dialog"}),H(b()(i.current_period_end).local().format("MM/DD/YYYY")))},children:i.cancel_at_period_end?"Renew":"Continue"})]}):(0,r.jsx)(W.X,{isMigration:!1,tier:w.Ps.find(e=>e.key===B.type),productBillingInterval:B.interval,currentSubscriptionLevel:N,subscription_active:k,subscription_billing_interval:F}),(0,r.jsx)(n.Z,{variant:"text",onClick:t,fullWidth:!0,children:"Cancel"})]})]})]})}},53568:function(e,t,i){var r=i(52676),a=i(75271),n=i(60609),o=i(72925),l=i(78657),s=i(56938),d=i(7502),c=i(65893),u=i(62935),x=i(21461),p=i(66686),h=i(71137),m=i(61271),g=i(57598),b=i(3532),f=i(58681),v=i(80924),j=i(22289),_=i(433),y=i(64647),Z=i(10659),k=i(30754);t.Z=e=>{let{teamId:t,oldTeamName:i,oldTeamAvatar:C,oldSeats:w,...S}=e,{isDesktop:I}=(0,v.j)(),[W,M]=(0,a.useState)(i||""),[z,R]=(0,a.useState)(C||null),[P,A]=(0,a.useState)(w||3),[E]=(0,y.i3)(),[F]=(0,_.MD)(),{data:T}=(0,j.$_)(),{workspace_team_id:D}=JSON.parse(sessionStorage.getItem("lastUsedWorkspace")||"{}"),{data:N}=(0,_.gZ)(),O=null==N?void 0:N.length,B=async e=>{var t;let i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(i)try{let e=await E({file:i});R(e.imageUrl),(0,k.t5)("Team avatar uploaded successfully!")}catch(e){console.error("Failed to upload avatar:",e)}},$=async()=>{let e=await F({team_name:W,team_avatar:z});if(e.success&&P===w){var t;(0,k.t5)("Team updated successfully!"),null===(t=S.onClose)||void 0===t||t.call(S)}else e.error&&(0,k.cB)(e.message)};return(0,r.jsxs)(m.Z,{...S,maxWidth:!1,fullWidth:!0,PaperProps:{sx:{maxWidth:"1052px",maxHeight:"780px",height:"auto",background:"linear-gradient(to bottom, #3B2A4A, #0E263C)",backgroundPosition:"center",backgroundSize:"cover"}},children:[(0,r.jsx)(p.Z,{onClick:S.onClose,sx:{position:"absolute",right:16,top:16,color:"text.secondary"},children:(0,r.jsx)(l.default,{})}),(0,r.jsx)(g.Z,{sx:{p:0,overflowY:"auto"},children:(0,r.jsxs)(c.Z,{display:"flex",flexDirection:I?"row":"column",width:"100%",height:"100%",gap:I?4:0,children:[(0,r.jsxs)(c.Z,{flex:"0.45",display:"flex",flexDirection:"column",justifyContent:"space-between",sx:{px:I?6:2,py:I?6:3,backgroundColor:"rgba(26, 26, 26, 1)"},children:[(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(u.Z,{variant:"h3",fontWeight:"bold",mb:10,sx:{textAlign:"center"},children:"Team Settings"}),(0,r.jsx)(c.Z,{display:"flex",flexDirection:"column",alignItems:"center",mb:3,children:(0,r.jsxs)(c.Z,{sx:{width:120,height:120,borderRadius:"50%",border:"1px dashed #ccc",display:"flex",alignItems:"center",justifyContent:"center",mb:1,backgroundImage:z?`url(${z})`:"none",backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer",position:"relative",overflow:"hidden"},onClick:()=>{var e;return null===(e=document.getElementById("avatar-upload"))||void 0===e?void 0:e.click()},children:[!z&&(0,r.jsx)(o.Z,{sx:{color:"text.secondary"}}),(0,r.jsx)("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:B,style:{display:"none"}}),z?(0,r.jsx)(c.Z,{sx:{position:"absolute",bottom:5,right:5,backgroundColor:"#000000",borderRadius:"50%",width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.25)",zIndex:10},children:(0,r.jsx)(s.Z,{sx:{color:"white",fontSize:18}})}):null]})}),(0,r.jsx)(x.Z,{fullWidth:!0,label:"Team Name",variant:"outlined",value:W,onChange:e=>M(e.target.value),sx:{mb:5}}),(0,r.jsxs)(c.Z,{display:"flex",flexDirection:"column",alignItems:"center",width:"100%",sx:{mb:10},children:[(0,r.jsx)(u.Z,{variant:"subtitle1",fontWeight:"medium",sx:{mb:1.5},children:"Number of Team Seats"}),(0,r.jsxs)(c.Z,{display:"flex",alignItems:"center",sx:{border:"1px solid",borderColor:"divider",borderRadius:1,width:"fit-content"},children:[(0,r.jsx)(p.Z,{onClick:()=>{A(e=>e>O&&e>3?e-1:3)},disabled:P<=3||P<=O,size:"small",sx:{"&.Mui-disabled":{cursor:"not-allowed",pointerEvents:"auto"}},children:(0,r.jsx)(d.Z,{fontSize:"small"})}),(0,r.jsx)(u.Z,{variant:"body1",sx:{mx:2,minWidth:"40px",textAlign:"center"},children:P}),(0,r.jsx)(p.Z,{onClick:()=>{A(e=>e<b.S4?e+1:b.S4)},size:"small",disabled:P>=b.S4,sx:{"&.Mui-disabled":{cursor:"not-allowed",pointerEvents:"auto"}},children:(0,r.jsx)(n.Z,{fontSize:"small"})})]}),3===P||P===b.S4?(0,r.jsx)(u.Z,{variant:"caption",color:"text.secondary",sx:{mt:1},children:3===P?"(minimum 3 members to collaborate)":`(maximum ${b.S4} members)`}):null]})]}),P!==w?(0,r.jsx)(f.Y,{isMigration:!1,subscriptionType:Z.Qe.Team,productBillingInterval:null==T?void 0:T.subscription_billing_interval,teamPlanMemberNumber:P,teamName:W,teamAvatar:z,teamId:D,children:(0,r.jsx)(h.Z,{variant:"contained",className:"oa-button-primary",size:"large",fullWidth:!0,sx:{mt:2,py:1.5},disabled:!W.trim(),onClick:$,children:P>w?"Save & Upgrade":P<w?"Save & Downgrade":"Save"})}):(0,r.jsx)(h.Z,{variant:"contained",className:"oa-button-primary",size:"large",fullWidth:!0,sx:{mt:2,py:1.5},disabled:!W.trim(),onClick:$,children:"Save"})]}),I?(0,r.jsx)(c.Z,{flex:"0.35",sx:{backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",borderRadius:2,minHeight:"auto",backgroundImage:"url(https://cdn.openart.ai/assets/group.png)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"}}):null]})})]})}},56507:function(e,t,i){i.d(t,{KG:function(){return F},bq:function(){return T}});var r=i(52676),a=i(75271),n=i(46974),o=i(65893),l=i(62935),s=i(17831),d=i(97348),c=i(62205),u=i(90902),x=i(44754),p=i(2656),h=i(24337),m=i(8765),g=i(37910),b=i(53568),f=i(46405),v=i(11555),j=i(79267),_=i(22289),y=i(433),Z=i(82466),k=i(58684),C=i(61271),w=i(77742),S=i(57598),I=i(35019),W=i(53049),M=i(68331),z=i(79481),R=i(71137),P=i(30754),A=e=>{var t;let{open:i,onClose:n}=e,[s,x]=(0,y._O)(),m=null==s?void 0:s.find(e=>!e.id),g=null==s?void 0:s.filter(e=>e.id&&e.team_subscription_active),[b,f]=(0,a.useState)(null===(t=g[0])||void 0===t?void 0:t.team_id),[v]=(0,y.YN)({}),[_,Z]=(0,a.useState)(null),[A,E]=(0,a.useState)({is_migrate_generation_data:!0,is_migrate_model_data:!0,is_migrate_character_data:!0}),[T,D]=(0,y.cL)();(0,a.useEffect)(()=>{b&&v({teamId:b}).then(e=>{Z((null==e?void 0:e.status)||null)})},[b]);let N=e=>{E(t=>({...t,[e]:!t[e]}))},O=async()=>{try{await T({workspaceId:b,...A}),(0,P.t5)("Asset transfer initiated. This process will take some time to complete."),n()}finally{n()}},B=Object.values(A).some(Boolean);return(0,r.jsxs)(C.Z,{open:i,onClose:n,maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{boxShadow:"0px 1.5px 8px 0px #1A1A1A, 0px 4px 32px 0px rgba(0, 0, 0, 0.54)",p:4,border:"1px solid #444",display:"flex",flexDirection:"column",gap:2,width:"471px"}},children:[(0,r.jsx)(w.Z,{sx:{fontWeight:700,fontSize:18,p:0},children:"Move your assets to a team workspace?"}),(0,r.jsx)(h.Z,{}),(0,r.jsxs)(S.Z,{sx:{p:0,display:"flex",flexDirection:"column",gap:3},children:[(0,r.jsxs)(o.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,r.jsx)(o.Z,{sx:{width:"100%",backgroundColor:"black",px:1.5,py:1,borderRadius:"5px"},children:(0,r.jsx)(F,{avatar:null==m?void 0:m.team_avatar,name:null==m?void 0:m.team_name,description:null==m?void 0:m.team_description})}),(0,r.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",gap:1,ml:2},children:(0,r.jsx)(j.JCU,{size:22,color:"white",fontWeight:600})}),(0,r.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",gap:2,width:"100%"},children:(0,r.jsx)(d.Z,{fullWidth:!0,children:(0,r.jsx)(c.Z,{value:b,onChange:e=>{f(e.target.value)},displayEmpty:!0,renderValue:e=>{if(x)return(0,r.jsx)(u.Z,{variant:"text",width:"100%",height:"40px"});let t=null==s?void 0:s.find(t=>t.team_id===e);return t?(0,r.jsx)(F,{avatar:t.team_avatar,name:t.team_name,description:t.team_description}):(0,r.jsx)(u.Z,{variant:"text",width:"100%",height:"40px"})},sx:{backgroundColor:"rgba(29, 29, 29, 1)",borderRadius:"8px",border:"1px solid rgba(161, 162, 163, 0.3)","& .MuiSelect-select":{px:1.5,py:1,display:"flex",alignItems:"center"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"}},children:x?(0,r.jsx)(u.Z,{variant:"text",width:"100%",height:"40px"}):g.map(e=>(0,r.jsx)(p.Z,{value:e.team_id,children:(0,r.jsx)(F,{avatar:e.team_avatar,name:e.team_name,description:e.team_description||"Team Workspace"})},e.team_id))})})})]}),(0,r.jsx)(I.Z,{direction:"column",spacing:1,children:(0,r.jsxs)(I.Z,{direction:"column",spacing:2,children:[(0,r.jsx)(l.Z,{fontWeight:700,fontSize:14,children:"Transfer of your assets is permanent."}),(0,r.jsxs)(I.Z,{direction:"column",gap:1,children:[(0,r.jsx)(l.Z,{fontSize:14,fontWeight:400,children:"You're about to move:"}),(0,r.jsx)(o.Z,{sx:{ml:2},children:(0,r.jsxs)(I.Z,{direction:"column",spacing:0,children:[(0,r.jsx)(W.Z,{control:(0,r.jsx)(M.Z,{checked:A.is_migrate_generation_data,onChange:()=>N("is_migrate_generation_data"),sx:{color:"rgba(255, 255, 255, 0.6)","&.Mui-checked":{color:"#1976d2"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"},"& .MuiSvgIcon-root":{fontSize:18},padding:"4px"}}),label:(0,r.jsx)(l.Z,{sx:{fontSize:14,fontWeight:400,color:A.is_migrate_generation_data?"white":"rgba(255, 255, 255, 0.7)",transition:"color 0.2s ease",lineHeight:1.2},children:"All items in your Creation History"}),sx:{margin:0,alignItems:"center","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.02)",borderRadius:"4px"},padding:"2px 8px",marginLeft:"-8px",transition:"background-color 0.2s ease","& .MuiFormControlLabel-label":{marginLeft:"4px"}}}),(0,r.jsx)(W.Z,{control:(0,r.jsx)(M.Z,{checked:A.is_migrate_model_data,onChange:()=>N("is_migrate_model_data"),sx:{color:"rgba(255, 255, 255, 0.6)","&.Mui-checked":{color:"#1976d2"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"},"& .MuiSvgIcon-root":{fontSize:18},padding:"4px"}}),label:(0,r.jsx)(l.Z,{sx:{fontSize:14,fontWeight:400,color:A.is_migrate_model_data?"white":"rgba(255, 255, 255, 0.7)",transition:"color 0.2s ease",lineHeight:1.2},children:"All Custom Models"}),sx:{margin:0,alignItems:"center","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.02)",borderRadius:"4px"},padding:"2px 8px",marginLeft:"-8px",transition:"background-color 0.2s ease","& .MuiFormControlLabel-label":{marginLeft:"4px"}}}),(0,r.jsx)(W.Z,{control:(0,r.jsx)(M.Z,{checked:A.is_migrate_character_data,onChange:()=>N("is_migrate_character_data"),sx:{color:"rgba(255, 255, 255, 0.6)","&.Mui-checked":{color:"#1976d2"},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.04)"},"& .MuiSvgIcon-root":{fontSize:18},padding:"4px"}}),label:(0,r.jsx)(l.Z,{sx:{fontSize:14,fontWeight:400,color:A.is_migrate_character_data?"white":"rgba(255, 255, 255, 0.7)",transition:"color 0.2s ease",lineHeight:1.2},children:"All Characters"}),sx:{margin:0,alignItems:"center","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.02)",borderRadius:"4px"},padding:"2px 8px",marginLeft:"-8px",transition:"background-color 0.2s ease","& .MuiFormControlLabel-label":{marginLeft:"4px"}}})]})}),!B&&(0,r.jsx)(o.Z,{sx:{ml:2,mt:1,p:1,backgroundColor:"rgba(255, 193, 7, 0.1)",border:"1px solid rgba(255, 193, 7, 0.3)",borderRadius:"4px"},children:(0,r.jsx)(l.Z,{fontSize:12,color:"rgba(255, 193, 7, 0.9)",fontWeight:400,children:"Please select at least one asset type to transfer."})}),(0,r.jsxs)(l.Z,{fontSize:14,fontWeight:400,children:["After the move:",(0,r.jsxs)("ul",{style:{margin:"8px 0 0 20px",padding:0},children:[(0,r.jsx)("li",{children:"Your personal workspace no longer contains these assets"}),(0,r.jsx)("li",{children:"The team workspace will own them."}),(0,r.jsx)("li",{children:"You will lose access to your assets if you leave or are removed from the team workspace, or if the Team plan is cancelled."})]})]})]})]})}),(0,r.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",borderRadius:1,border:"1px solid #444",backgroundColor:"#1d1d1d",p:1},children:[(0,r.jsx)(j.n6y,{style:{color:"#FDEA01",marginRight:8}}),(0,r.jsx)(l.Z,{color:"white",fontWeight:400,fontSize:12,children:"This action can't be undone."})]})]}),(0,r.jsxs)(z.Z,{sx:{padding:"0px !important"},children:[(0,r.jsx)(R.Z,{onClick:n,variant:"outlined",children:"Cancel"}),(0,r.jsxs)(k.Z,{className:"oa-button-primary",onClick:O,variant:"contained",color:"primary",loading:D,disabled:!B||null!==_,children:["Confirm Transfer ",null!==_&&`(Status: ${_})`]})]})]})};let E=e=>{let{icon:t,title:i}=e;return(0,r.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[(0,r.jsx)(o.Z,{sx:{width:32,height:32,color:"white",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center"},children:t}),(0,r.jsx)(o.Z,{children:(0,r.jsx)(l.Z,{variant:"subtitle2",children:i})})]})},F=e=>{var t;let{avatar:i,name:a,description:n,avatarProps:d,isExpired:c}=e,u=(null==a?void 0:null===(t=a.charAt(0))||void 0===t?void 0:t.toUpperCase())||"";return(0,r.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,r.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[(0,r.jsx)(s.Z,{sx:{width:32,height:32,bgcolor:"#0D99FF",color:"white",fontSize:"14px",fontWeight:"600",...null==d?void 0:d.sx},src:"string"==typeof i?i:void 0,children:"string"==typeof i?i?null:u:i}),(0,r.jsxs)(o.Z,{children:[(0,r.jsx)(l.Z,{variant:"subtitle2",children:a}),n?(0,r.jsx)(l.Z,{color:"white",sx:{fontSize:"12px",fontWeight:"400"},children:n}):null]})]}),c?(0,r.jsx)(l.Z,{color:"white",sx:{fontSize:"12px",fontWeight:"400",backgroundColor:"rgba(255, 165, 0, 0.15)",padding:"2px 6px",borderRadius:"3px",border:"0.5px solid rgba(255, 165, 0, 0.3)"},children:"Expired"}):null]})},T=e=>{let{sx:t}=e,{showModal:i}=(0,m.dd)(),s=(0,n.useRouter)(),{data:k}=(0,_.CD)(),{isTeamPlan:C}=(0,Z.V)(),[w]=(0,_.tL)(),S=null==k?void 0:k.last_used_workspace,[I,W]=(0,a.useState)(!1),[M,z]=(0,a.useState)(null==S?void 0:S.workspace_team_id),[R]=(0,y.Zr)(),[P,T]=(0,y._O)(),D=null==P?void 0:P.filter(e=>e.id&&e.team_subscription_active),N=(0,a.useMemo)(()=>(null==S?void 0:S.workspace_team_id)||"",[null==S?void 0:S.workspace_team_id]),O=null==P?void 0:P.find(e=>e.team_id===N);return(0,r.jsx)(o.Z,{sx:t,children:(0,r.jsx)(d.Z,{fullWidth:!0,children:(0,r.jsxs)(c.Z,{value:N,onChange:e=>{let t=e.target.value;if("invite-teammate"===t){i(f.v,{showInvite:!0,isTeamFirstCreated:!1});return}if("migrate-data"===t){D.length>0&&i(A);return}if("team-subscription"===t){s.push(v.uO);return}if("settings"===t){var r,a;let e=sessionStorage.getItem("lastUsedWorkspace"),t=null===(r=JSON.parse(e))||void 0===r?void 0:r.workspace_team_id;if((null===(a=JSON.parse(e))||void 0===a?void 0:a.workspace_user_id)===(null==k?void 0:k.id))s.push(v.BF);else{let e=P.find(e=>e.team_id===t);i(b.Z,{teamId:t,oldTeamName:null==e?void 0:e.team_name,oldTeamAvatar:null==e?void 0:e.team_avatar,oldSeats:null==e?void 0:e.team_subscription_seats})}return}if("create-workspace"===t){i(g.Z);return}W(!0),z(t);let n=P.find(e=>e.team_id===t);w({workspace_user_id:null==n?void 0:n.virtual_user_profile_id,workspace_team_id:t})},displayEmpty:!0,renderValue:e=>{if(T)return(0,r.jsx)(u.Z,{variant:"text",width:"100%",height:"40px"});if(I){let e=null==P?void 0:P.find(e=>e.team_id===M);return(0,r.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[(0,r.jsx)(x.Z,{size:32,thickness:4,color:"primary"}),(0,r.jsx)(l.Z,{variant:"subtitle2",children:e?`Switching to ${e.team_name}...`:"Switching workspace..."})]})}let t=null==P?void 0:P.find(t=>t.team_id===e);return t?(0,r.jsx)(F,{avatar:t.team_avatar,name:t.team_name,description:t.team_description,isExpired:"team_plan"===t.team_type&&!t.team_subscription_active}):(0,r.jsx)(u.Z,{variant:"text",width:"100%",height:"40px"})},sx:{backgroundColor:"rgba(29, 29, 29, 1)",borderRadius:"8px",border:"1px solid rgba(161, 162, 163, 0.3)","& .MuiSelect-select":{padding:"10px 14px",display:"flex",alignItems:"center"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"}},children:[T?(0,r.jsx)(u.Z,{variant:"text",width:"100%",height:"40px"}):P.map(e=>(0,r.jsx)(p.Z,{value:e.team_id,children:(0,r.jsx)(F,{avatar:e.team_avatar,name:e.team_name,description:e.team_description||"Team Workspace",isExpired:"team_plan"===e.team_type&&!e.team_subscription_active})},e.team_id)),(0,r.jsx)(p.Z,{value:"create-workspace",children:(0,r.jsx)(F,{avatar:(0,r.jsx)(j.Zr,{}),name:"Create Team Workspace",avatarProps:{sx:{border:"2px solid #0D99FF",bgcolor:"rgba(161, 162, 163, 0.2)"}}})},"create-workspace"),(0,r.jsx)(h.Z,{sx:{my:1,mx:2,bgcolor:"#444"}}),(null==O?void 0:O.team_subscription_active)&&"owner"===R?(0,r.jsx)(p.Z,{value:"invite-teammate",children:(0,r.jsx)(E,{icon:(0,r.jsx)(j.gdU,{}),title:"Invite new team member"})},"invite-teammate"):null,C&&"owner"===R?(0,r.jsx)(p.Z,{value:"team-subscription",children:(0,r.jsx)(E,{icon:(0,r.jsx)(j.Ie5,{}),title:"Team Subscription"})},"team-subscription"):null,"member"!==R?(0,r.jsx)(p.Z,{value:"settings",children:(0,r.jsx)(E,{icon:(0,r.jsx)(j.tGw,{}),title:"Settings"})},"settings"):null,!C&&D.length>0?(0,r.jsx)(p.Z,{value:"migrate-data",children:(0,r.jsx)(E,{icon:(0,r.jsx)(j.DwY,{}),title:"Migrate data"})},"migrate-data"):null]})})})}}}]);